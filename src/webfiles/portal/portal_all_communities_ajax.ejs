<h1 class="page-header">All Communities</h1>
<div class="search-container">
    <form action="/communities/search">
        <div id="search-icon"></div>
        <input id="search-bar" placeholder="Search communities..." name="search" minlength="2" maxlength="20" inputform="monospace" guidestring="Search Communities">
    </form>
</div>
<div id="popular" class="communities-wrapper">
    <table style="margin-top: 30px">
        <tbody id="search-list">
        <tr>
            <% for(var i = 0; i < communities.length; i++) {%>
                <td>
                    <div class="community-list-wrapper" onclick="loadCommunityPage('<%= communities[i].community_id %>')">
                        <img class="community-list-icon" src="<%= communities[i].browser_icon %>">
                        <h2 class="community-list-title"><%= communities[i].name %></h2>
                        <h4 class="community-list-followers"><%= communities[i].followers %> followers</h4>
                    </div>
                </td>
                <% if( (i + 1) % 3 === 0) { %>
        </tr>
        <tr>
            <% } %>
            <% } %>
        </tr>
        </tbody>
    </table>
</div>
<script>
    function myFunction() {
        var input, filter, ul, tr, a, i;
        input = document.getElementById("search-bar");
        filter = input.value.toUpperCase();
        ul = document.getElementById("search-list");
        tr = ul.getElementsByTagName("tr");
        for (i = 1; i < tr.length; i++) {
            a = tr[i].getElementsByTagName("a")[0];
            if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
</script>